<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/imfp/blog/rss.xml" title="쏙쏙 들어오는 함수형 코딩 RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/imfp/blog/atom.xml" title="쏙쏙 들어오는 함수형 코딩 Atom Feed"><title data-react-helmet="true">3장 액션과 계산, 데이터의 차이를 알기 | 쏙쏙 들어오는 함수형 코딩</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://dev-in-book.github.io/imfp/docs/chapter_3"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="3장 액션과 계산, 데이터의 차이를 알기 | 쏙쏙 들어오는 함수형 코딩"><meta data-react-helmet="true" name="description" content="이번 장에서 살펴볼 내용"><meta data-react-helmet="true" property="og:description" content="이번 장에서 살펴볼 내용"><link data-react-helmet="true" rel="shortcut icon" href="/imfp/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://dev-in-book.github.io/imfp/docs/chapter_3"><link data-react-helmet="true" rel="alternate" href="https://dev-in-book.github.io/imfp/docs/chapter_3" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://dev-in-book.github.io/imfp/docs/chapter_3" hreflang="x-default"><link rel="stylesheet" href="/imfp/assets/css/styles.b00dac95.css">
<link rel="preload" href="/imfp/assets/js/runtime~main.58a14041.js" as="script">
<link rel="preload" href="/imfp/assets/js/main.66c5e98d.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/imfp/"><div class="navbar__logo"><img src="/imfp/img/imfp.jpeg" alt="dev-in-book" class="themedImage_TMUO themedImage--light_4Vu1"><img src="/imfp/img/imfp.jpeg" alt="dev-in-book" class="themedImage_TMUO themedImage--dark_uzRr"></div><b class="navbar__title">함수형 코딩</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/imfp/docs/chapter_3">📕 시작하기</a><a class="navbar__item navbar__link" href="/imfp/blog">👨‍👩‍👧‍👦 참여자</a></div><div class="navbar__items navbar__items--right"><a href="https://github.dev/dev-in-book/imfp" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>⛳️ GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">🌜</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">🌞</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_i9tI" type="button"></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/imfp/docs/chapter_3">3장 액션과 계산, 데이터의 차이를 알기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_4">4장 액션에서 계산 빼내기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_5">5장 더 좋은 액션 만들기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_6">6장 변경 가능한 데이터 구조를 가진 언어에서 불변성 유지하기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_7">7장 신뢰할 수 없는 코드를 쓰면서 불변성 지키기</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_8">8장 계층형 설계 1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/imfp/docs/chapter_9">9장 계층형 설계 2</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="tocCollapsible_aw-L theme-doc-toc-mobile tocMobile_Tx6Y"><button type="button" class="clean-btn tocCollapsibleButton_zr6a">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>3장 액션과 계산, 데이터의 차이를 알기</h1></header><h2 class="anchor anchorWithStickyNavbar_y2LR" id="이번-장에서-살펴볼-내용">이번 장에서 살펴볼 내용<a aria-hidden="true" class="hash-link" href="#이번-장에서-살펴볼-내용" title="Direct link to heading">​</a></h2><ul><li>액션과 계산, 데이터가 어떻게 다른지 배웁니다.</li><li>문제에 대해 생각하거나 코드를 작성할 때 또는 코드를 읽을 때 액션과 계산, 데이터를 구분해서 적용해봅니다.</li><li>액션이 코드 전체로 퍼질 수 있다는 것을 이해합니다.</li><li>이미 있는 코드에서 어떤 부분이 액션인지 찾아봅니다.</li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="액션과-계산-데이터">액션과 계산, 데이터<a aria-hidden="true" class="hash-link" href="#액션과-계산-데이터" title="Direct link to heading">​</a></h2><p>우선, 액션과 계산, 데이터에 대한 정의를 보겠습니다.</p><p><strong>액션</strong>: 실행 시점과 횟수에 의존합니다.</p><p><strong>계산</strong>: 입력으로 출력을 계산합니다.</p><p><strong>데이터</strong>: 이벤트에 대한 사실을 나타냅니다.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="액션과-계산-데이터를-적용하여-보는-개발-과정">액션과 계산, 데이터를 적용하여 보는 개발 과정<a aria-hidden="true" class="hash-link" href="#액션과-계산-데이터를-적용하여-보는-개발-과정" title="Direct link to heading">​</a></h3><ol><li>문제에 대해 생각하기</li></ol><p>아직 코딩을 하기 전 단계이지만 액션과 계산, 데이터로 나눠서 생각하여 설계합니다.</p><ol start="2"><li>코딩하기</li></ol><p>최대한 액션에서 계산을 빼냅니다.
또 계산에서 데이터를 분리할 수 있는지 생각합니다.
더 나아가 액션이 계산이 될 수 있는지, 계산은 데이터가 될 수 있는지 고민합니다.</p><ol start="3"><li>(유지보수를 위해) 코드 읽기</li></ol><p>액션과 계산, 데이터 중 어디에 속하는지 잘 봐야합니다.
특히, 액션은 실행하는 시점에 따라 결과가 달라지니 유의해서 봐야합니다.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="액션과-계산-데이터는-어디에나-적용할-수-있습니다">액션과 계산, 데이터는 어디에나 적용할 수 있습니다<a aria-hidden="true" class="hash-link" href="#액션과-계산-데이터는-어디에나-적용할-수-있습니다" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="장보기-과정">장보기 과정<a aria-hidden="true" class="hash-link" href="#장보기-과정" title="Direct link to heading">​</a></h3><table><thead><tr><th>A,C,D</th><th>장보기 과정</th><th>설명</th></tr></thead><tbody><tr><td><code>Action</code></td><td>냉장고 확인하기</td><td>냉장고의 문을 열기전 까지 고양이가 있는 상태와 없는 상태가 동시에 존재하므로 액션입니다.</td></tr><tr><td><code>Action</code></td><td>운전해서 상점으로 가기</td><td>운전하는 것은 연료라는 데이터(혹은 상태)를 소모하므로 액션입니다.</td></tr><tr><td><code>Action</code></td><td>필요한 것 구입하기</td><td>필요하다라는 것은 시간에 따라 달라집니다. 지금은 카레가 먹고 싶어서 카레를 사지만 나중에는 아닐 수도 있기 때문에 액션입니다.</td></tr><tr><td><code>Action</code></td><td>운전해서 집으로 오기</td><td>운전해서 상점으로 가기랑 비슷하므로 액션입니다.</td></tr></tbody></table><p>모든 것이 액션이다를 결론으로 chapter 3 정리를 종료하겠습니다.</p><hr><p>는 장난이고 이어서 작성하겠습니다.</p><p>각 단계 별로 세부적인 부분은 계산과 데이터로 나눌 수 있습니다.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="냉장고-확인하기">냉장고 확인하기<a aria-hidden="true" class="hash-link" href="#냉장고-확인하기" title="Direct link to heading">​</a></h3><p>냉장고란 무엇일까요? 냉장고는 우리의 중요한 식량을 신선하게 유지하는 곳 입니다.</p><p>그리고 우리는 때에 따라 냉장고의 식료품을 꺼내서 먹습니다.</p><p>여기서 식료품은 데이터이고 냉장고는 데이터베이스라고 생각하면 되겠습니다.</p><p>현재 재고(데이터) - ...</p><p>냉장고의 상태(식료품)는 시간에 따라 달라집니다.</p><p>그러므로 액션입니다.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="운전해서-상점으로-가기">운전해서 상점으로 가기<a aria-hidden="true" class="hash-link" href="#운전해서-상점으로-가기" title="Direct link to heading">​</a></h3><p>데이터가 숨어 있긴 하나 다른 기술적인 작업이 들어가지 않을 거라 생략하겠습니다.</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="필요한-것-구입하기">필요한 것 구입하기<a aria-hidden="true" class="hash-link" href="#필요한-것-구입하기" title="Direct link to heading">​</a></h3><p>필요한 것 구입하기에서는 단계를 다음과 같이 더 나눌 수 있습니다.</p><p>... - 필요한 재고(데이터) - 재고 빼기(계산) - 장보기 목록(데이터) - 목록에 있는 것 구입하기(액션)</p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="운전해서-집으로-오기">운전해서 집으로 오기<a aria-hidden="true" class="hash-link" href="#운전해서-집으로-오기" title="Direct link to heading">​</a></h3><p>여기서 다루는 범위가 아니므로 이것도 생략하겠습니다.</p><p>p.35 사진 추가</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="장보기-과정에서-배운-것">장보기 과정에서 배운 것<a aria-hidden="true" class="hash-link" href="#장보기-과정에서-배운-것" title="Direct link to heading">​</a></h2><ol><li><p>액션과 계산, 데이터는 어디에나 적용할 수 있습니다.</p></li><li><p>액션 안에는 계산과 데이터, 또 다른 액션이 숨어 있을지도 모릅니다.</p></li><li><p>계산은 더 작은 계산과 데이터로 나누고 연결할 수 있습니다.</p></li><li><p>데이터는 데이터만 조합할 수 있습니다.</p></li><li><p>계산은 때로 &#x27;우리 머릿속에서&#x27; 일어납니다.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="새로-만드는-코드에-함수형-사고-적용하기">새로 만드는 코드에 함수형 사고 적용하기<a aria-hidden="true" class="hash-link" href="#새로-만드는-코드에-함수형-사고-적용하기" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="쿠폰독의-새로운-마케팅-전략">쿠폰독의 새로운 마케팅 전략<a aria-hidden="true" class="hash-link" href="#쿠폰독의-새로운-마케팅-전략" title="Direct link to heading">​</a></h3><ul><li><p>쿠폰에 관심 있는 구독자들에게 이메일로 쿠폰을 매주 보내주는 서비스입니다.</p></li><li><p>친구 10명을 추천하면 더 좋은 쿠폰을 보내주려고 합니다.</p></li><li><p>이메일과 추천 친구수를 가지는 테이블이 있습니다.</p></li></ul><table><thead><tr><th>email</th><th>rec_count</th></tr></thead><tbody><tr><td><a href="mailto:john@coldmain.com" target="_blank" rel="noopener noreferrer">john@coldmain.com</a></td><td>2</td></tr><tr><td><a href="mailto:sam@pmail.co" target="_blank" rel="noopener noreferrer">sam@pmail.co</a></td><td>16</td></tr><tr><td><a href="mailto:linda1989@oal.com" target="_blank" rel="noopener noreferrer">linda1989@oal.com</a></td><td>1</td></tr><tr><td><a href="mailto:jan1940@ahoy.com" target="_blank" rel="noopener noreferrer">jan1940@ahoy.com</a></td><td>0</td></tr><tr><td><a href="mailto:mrbig@pmail.co" target="_blank" rel="noopener noreferrer">mrbig@pmail.co</a></td><td>25</td></tr><tr><td><a href="mailto:lol@lol.lol" target="_blank" rel="noopener noreferrer">lol@lol.lol</a></td><td>0</td></tr></tbody></table><ul><li>등급에 따라 부여되는 쿠폰 데이터를 가지는 테이블이 있습니다.</li></ul><table><thead><tr><th>code</th><th>rank</th></tr></thead><tbody><tr><td>MAYDISCOUNT</td><td>good</td></tr><tr><td>10PERCENT</td><td>bad</td></tr><tr><td>PROMOTION45</td><td>best</td></tr><tr><td>IHEARTYOU</td><td>bad</td></tr><tr><td>GETADEAL</td><td>best</td></tr><tr><td>ILIKEDISCOUNTS</td><td>good</td></tr></tbody></table><ul><li><p>best 쿠폰은 추천을 많이 한 사용자를 위한 쿠폰입니다.</p></li><li><p>good 쿠폰은 모든 사용자들에게 전달되는 쿠폰입니다.</p></li><li><p>bad 쿠폰은 사용하지 않는 쿠폰입니다.</p></li></ul><h2 class="anchor anchorWithStickyNavbar_y2LR" id="쿠폰-보내는-과정을-그려보기">쿠폰 보내는 과정을 그려보기<a aria-hidden="true" class="hash-link" href="#쿠폰-보내는-과정을-그려보기" title="Direct link to heading">​</a></h2><ol><li><p>데이터베이스에서 구독자 목록을 가져오기</p></li><li><p>데이터베이스에서 쿠폰 목록 가져오기</p></li><li><p>보내야할 이메일 목록 만들기</p></li><li><p>이메일 전송하기</p></li></ol><h2 class="anchor anchorWithStickyNavbar_y2LR" id="쿠폰-보내는-과정-구현하기">쿠폰 보내는 과정 구현하기<a aria-hidden="true" class="hash-link" href="#쿠폰-보내는-과정-구현하기" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_y2LR" id="데이터베이스에서-가져온-구독자-데이터">데이터베이스에서 가져온 구독자 데이터<a aria-hidden="true" class="hash-link" href="#데이터베이스에서-가져온-구독자-데이터" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Subscriber</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  recommendCount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subscriber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subscriber</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sam@pmail.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  recommendCount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="쿠폰-등급을-결정하는-것은-함수계산입니다">쿠폰 등급을 결정하는 것은 함수(계산)입니다.<a aria-hidden="true" class="hash-link" href="#쿠폰-등급을-결정하는-것은-함수계산입니다" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Rank</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;best&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;good&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bad&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getRankBySubscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subscriber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subscriber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Rank</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subscriber</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">recommendCount</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;best&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;good&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="데이터베이스에서-가져온-쿠폰-데이터">데이터베이스에서 가져온 쿠폰 데이터<a aria-hidden="true" class="hash-link" href="#데이터베이스에서-가져온-쿠폰-데이터" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Coupon</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  code</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rank</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Rank</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> coupon</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  code</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;10PERCENT&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  rank</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bad&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="특정-등급의-쿠폰-목록을-선택하는-것은-함수계산입니다">특정 등급의 쿠폰 목록을 선택하는 것은 함수(계산)입니다.<a aria-hidden="true" class="hash-link" href="#특정-등급의-쿠폰-목록을-선택하는-것은-함수계산입니다" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getCouponsByRank</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coupons</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> rank</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Rank</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> coupons</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">filter</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coupon</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> coupon</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">rank</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> rank</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="이메일은-그냥-데이터-입니다">이메일은 그냥 데이터 입니다.<a aria-hidden="true" class="hash-link" href="#이메일은-그냥-데이터-입니다" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">Email</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">from</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  to</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Email</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">from</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;newsletter@coupondog.co&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  to</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;sam@pmail.com&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Your weekly coupons inside&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Here are your coupons ...&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="구독자가-받을-이메일을-계획하는-계산">구독자가 받을 이메일을 계획하는 계산<a aria-hidden="true" class="hash-link" href="#구독자가-받을-이메일을-계획하는-계산" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writeEmailForSubscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subscriber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subscriber</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  goodCoupons</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bestCoupons</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Email</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> subscriberRank </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getRankBySubscriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subscriber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">switch</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subsriberRank</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;best&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">from</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;newsletter@coupondog.co&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        to</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> subscriber</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        subject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Your best weekly coupons inside&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Here are the best coupons: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">bestCoupons</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&#x27;, &#x27;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;good&#x27;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">from</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;newsletter@coupondog.co&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        to</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> subscriber</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">email</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        subject</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Your best weekly coupons inside&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        body</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">Here are the good coupons: </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">goodCoupons</span><span class="token template-string interpolation punctuation" style="color:#393A34">.</span><span class="token template-string interpolation function" style="color:#d73a49">join</span><span class="token template-string interpolation punctuation" style="color:#393A34">(</span><span class="token template-string interpolation string" style="color:#e3116c">&#x27;, &#x27;</span><span class="token template-string interpolation punctuation" style="color:#393A34">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">default</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">throw</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name known-class-name class-name">Error</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;rank not provided&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="보낼-이메일-목록을-준비하기">보낼 이메일 목록을 준비하기<a aria-hidden="true" class="hash-link" href="#보낼-이메일-목록을-준비하기" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writeEmailsForSubscribers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  subscribers</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Subscriber</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  goodCoupons</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  bestCoupons</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Coupon</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Email</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> subscribers</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subsriber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">writeEmailForSubsriber</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">subscriber</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> goodCoupons</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bestCoupons</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_y2LR" id="이메일-보내기는-액션입니다">이메일 보내기는 액션입니다.<a aria-hidden="true" class="hash-link" href="#이메일-보내기는-액션입니다" title="Direct link to heading">​</a></h3><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI typescript"><pre tabindex="0" class="prism-code language-typescript codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name">EmailSystem</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">send</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">Email</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sendWeeklyEmail</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">emailSystem</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">EmailSystem</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">subscribers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> coupons</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">readSubscribers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">readCoupons</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> goodCoupons </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getCouponsByRank</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coupons</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;good&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> bestCoupons </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">getCouponsByRank</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">coupons</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;best&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> emails </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">writeEmailsForSubscribers</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subscribers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    goodCoupons</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bestCoupons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  emails</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">forEach</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> emailSystem</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">send</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">email</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="액션은-코드-전체로-퍼집니다">액션은 코드 전체로 퍼집니다.<a aria-hidden="true" class="hash-link" href="#액션은-코드-전체로-퍼집니다" title="Direct link to heading">​</a></h2><p>액션을 호출하면 액션이 됩니다.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="액션은-다양한-형태로-나타납니다">액션은 다양한 형태로 나타납니다.<a aria-hidden="true" class="hash-link" href="#액션은-다양한-형태로-나타납니다" title="Direct link to heading">​</a></h2><ul><li><p>팝업창 띄우기</p></li><li><p>콘솔 띄우기</p></li><li><p>new Date()</p></li><li><p>공유 가변값</p></li></ul><p>언제 부르는지 또는 얼마나 부르는지에 따라 다른 결과를 나타내므로 액션입니다.
어느 곳에서나 사용할 수 있기 때문에 코드 전체로 퍼지기 쉽습니다.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="결론">결론<a aria-hidden="true" class="hash-link" href="#결론" title="Direct link to heading">​</a></h2><p>계산은 계획이나 결정을 할 때 적용했고 데이터는 계획하거나 결정한 결과였습니다. 마지막으로, 액션을 통해 계산으로 만든 계획을 실행할 수 있었습니다.</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="요점정리">요점정리<a aria-hidden="true" class="hash-link" href="#요점정리" title="Direct link to heading">​</a></h2><ul><li><p>함수형 프로그래머는 액션과 계산, 데이터를 구분합니다.</p></li><li><p>액션은 실행 시점이나 횟수에 의존합니다.</p></li><li><p>계산은 입력값으로 출력값을 만드는 것(순수 함수)입니다.</p></li><li><p>데이터는 이벤트에 대한 사실입니다.</p></li><li><p>함수형 프로그래머는 액션보다 계산을 좋아하고 계산보다 데이터를 좋아합니다.</p></li><li><p>계산은 테스트하기 쉽습니다.</p></li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.dev/dev-in-book/imfp/blob/main/docs/chapter_3.mdx" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/imfp/docs/chapter_4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">4장 액션에서 계산 빼내기<!-- --> »</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#이번-장에서-살펴볼-내용" class="table-of-contents__link toc-highlight">이번 장에서 살펴볼 내용</a></li><li><a href="#액션과-계산-데이터" class="table-of-contents__link toc-highlight">액션과 계산, 데이터</a><ul><li><a href="#액션과-계산-데이터를-적용하여-보는-개발-과정" class="table-of-contents__link toc-highlight">액션과 계산, 데이터를 적용하여 보는 개발 과정</a></li></ul></li><li><a href="#액션과-계산-데이터는-어디에나-적용할-수-있습니다" class="table-of-contents__link toc-highlight">액션과 계산, 데이터는 어디에나 적용할 수 있습니다</a><ul><li><a href="#장보기-과정" class="table-of-contents__link toc-highlight">장보기 과정</a></li><li><a href="#냉장고-확인하기" class="table-of-contents__link toc-highlight">냉장고 확인하기</a></li><li><a href="#운전해서-상점으로-가기" class="table-of-contents__link toc-highlight">운전해서 상점으로 가기</a></li><li><a href="#필요한-것-구입하기" class="table-of-contents__link toc-highlight">필요한 것 구입하기</a></li><li><a href="#운전해서-집으로-오기" class="table-of-contents__link toc-highlight">운전해서 집으로 오기</a></li></ul></li><li><a href="#장보기-과정에서-배운-것" class="table-of-contents__link toc-highlight">장보기 과정에서 배운 것</a></li><li><a href="#새로-만드는-코드에-함수형-사고-적용하기" class="table-of-contents__link toc-highlight">새로 만드는 코드에 함수형 사고 적용하기</a><ul><li><a href="#쿠폰독의-새로운-마케팅-전략" class="table-of-contents__link toc-highlight">쿠폰독의 새로운 마케팅 전략</a></li></ul></li><li><a href="#쿠폰-보내는-과정을-그려보기" class="table-of-contents__link toc-highlight">쿠폰 보내는 과정을 그려보기</a></li><li><a href="#쿠폰-보내는-과정-구현하기" class="table-of-contents__link toc-highlight">쿠폰 보내는 과정 구현하기</a><ul><li><a href="#데이터베이스에서-가져온-구독자-데이터" class="table-of-contents__link toc-highlight">데이터베이스에서 가져온 구독자 데이터</a></li><li><a href="#쿠폰-등급을-결정하는-것은-함수계산입니다" class="table-of-contents__link toc-highlight">쿠폰 등급을 결정하는 것은 함수(계산)입니다.</a></li><li><a href="#데이터베이스에서-가져온-쿠폰-데이터" class="table-of-contents__link toc-highlight">데이터베이스에서 가져온 쿠폰 데이터</a></li><li><a href="#특정-등급의-쿠폰-목록을-선택하는-것은-함수계산입니다" class="table-of-contents__link toc-highlight">특정 등급의 쿠폰 목록을 선택하는 것은 함수(계산)입니다.</a></li><li><a href="#이메일은-그냥-데이터-입니다" class="table-of-contents__link toc-highlight">이메일은 그냥 데이터 입니다.</a></li><li><a href="#구독자가-받을-이메일을-계획하는-계산" class="table-of-contents__link toc-highlight">구독자가 받을 이메일을 계획하는 계산</a></li><li><a href="#보낼-이메일-목록을-준비하기" class="table-of-contents__link toc-highlight">보낼 이메일 목록을 준비하기</a></li><li><a href="#이메일-보내기는-액션입니다" class="table-of-contents__link toc-highlight">이메일 보내기는 액션입니다.</a></li></ul></li><li><a href="#액션은-코드-전체로-퍼집니다" class="table-of-contents__link toc-highlight">액션은 코드 전체로 퍼집니다.</a></li><li><a href="#액션은-다양한-형태로-나타납니다" class="table-of-contents__link toc-highlight">액션은 다양한 형태로 나타납니다.</a></li><li><a href="#결론" class="table-of-contents__link toc-highlight">결론</a></li><li><a href="#요점정리" class="table-of-contents__link toc-highlight">요점정리</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/imfp/docs/chapter_3">함수형 코딩</a></li><li class="footer__item"><a class="footer__link-item" href="/imfp/blog/member">Member</a></li><li class="footer__item"><a href="https://github.dev/dev-in-book/imfp" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">2022 Dev in Book, Built with Docusaurus.</div></div></div></footer></div>
<script src="/imfp/assets/js/runtime~main.58a14041.js"></script>
<script src="/imfp/assets/js/main.66c5e98d.js"></script>
</body>
</html>